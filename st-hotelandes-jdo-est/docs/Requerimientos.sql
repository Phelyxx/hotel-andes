-- RF10
INSERT INTO A_SERVICEINVOICE (ID, IDSERVICE, "VALUE", CREATEDDATE)
VALUES (5, 1, 100, TO_DATE('2022/05/04 10:14', 'yyyy/mm/dd hh24:mi'));

-- RF8
INSERT INTO A_RESERVATION(ID, IDSERVICE, DOCUMENTUSER, NUMBEROFGUESTS, "DURATION", "DATE")
VALUES (1, 1, 123, 10, 10, TO_DATE('2022/05/04 10:15', 'yyyy/mm/dd hh24:mi'));

-- RFC2    
SELECT * FROM(
    SELECT IDSERVICE, CREATEDDATE, COUNT(*)
    FROM A_SERVICEINVOICE
    WHERE CREATEDDATE BETWEEN TO_DATE('2022/05/04 10:14', 'yyyy/mm/dd hh24:mi') AND TO_DATE('2022/05/04 10:15', 'yyyy/mm/dd hh24:mi')
    GROUP BY IDSERVICE, CREATEDDATE)
WHERE ROWNUM <=20;

-- RFC3
SELECT IDROOM, ROUND(((total*100)/dias),2) AS OCUPACION FROM (
    SELECT IDROOM, COUNT(*) AS total, ROUND((TO_DATE('2022/07/04 10:15', 'yyyy/mm/dd hh24:mi')) - (TO_DATE('2022/05/04 10:14', 'yyyy/mm/dd hh24:mi'))) DIAS
        FROM (SELECT * FROM A_BOOKING
        WHERE PAIDDATE BETWEEN TO_DATE('2022/05/04 10:14', 'yyyy/mm/dd hh24:mi') AND TO_DATE('2022/07/04 10:15', 'yyyy/mm/dd hh24:mi')), DUAL
    GROUP BY IDROOM  
)

-- RFC4

SELECT * FROM A_SERVICE
WHERE EMPLOYEETHATREGISTER = '384923492'

SELECT * FROM A_SERVICE
WHERE "TYPE" = 'SPA'

SELECT * FROM A_SERVICE
WHERE "CATEGORY" = 'RESERVABLE'

-- RFC5

SELECT SUM("VALUE") FROM (SELECT * FROM (SELECT * FROM A_USER U, A_RESERVATION R
                WHERE U.DOCUMENT = R.DOCUMENTUSER)U, A_SERVICE S, A_SERVICEINVOICE I
                WHERE S.ID = U.IDSERVICE AND S.ID = I.IDSERVICE)


SELECT * FROM A_USER WHERE document = 812941840
                
UPDATE A_CHECKINOUT SET CHECKINDATE = (TO_TIMESTAMP('2022-04-06 12:45:39.21', 'yyyy-mm-dd HH24:MI:SS.FF')), CHECKINMADE = 1 WHERE IDBOOKING = 2
UPDATE A_CHECKINOUT SET CHECKINDATE = TO_DATE('2022/05/04 10:14', 'yyyy/mm/dd hh24:mi'), CHECKINMADE = 1 WHERE IDBOOKING = 1;
